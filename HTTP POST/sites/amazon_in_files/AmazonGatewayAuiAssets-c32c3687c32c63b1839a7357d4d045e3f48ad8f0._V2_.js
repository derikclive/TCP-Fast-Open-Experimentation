(function(d){var b=window.AmazonUIPageJS||window.P,m=b._namespace||b.attributeErrors,c=m?m("AmazonGatewayAuiAssets"):b;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,b,m){d.when("A").register("sg-jsutil",function(c){var b=c.$;return{safeCall:function(c,d){return b.isFunction(c)?c(d):d}}});d.when("A","load").execute("ah-inst-img-size",function(c){function n(a){if(!a)return null;var e=g(a).attr("src");a=g(a).data("a-hires");return e===a?null:e}function l(a){"object"===
typeof v.ue&&"function"===typeof v.ue.count&&v.ue&&v.ue.count(a,(v.ue.count(a)||0)+1)}function k(a,e){l("gw-img-size-invoke");g.ajax({type:"HEAD",async:!0,url:a,success:function(a,g,f){l("gw-img-size-success");c.trigger(e,parseInt(f.getResponseHeader("Content-Length"),10))},error:function(a,e,g){l("gw-img-size-error")}})}function h(a,e){0<a.length&&(q[e]={count:a.length,totalSize:0,images:g.unique(a)},g(q[e].images).each(function(a,g){var f=e+"_"+a;c.on(f,function(a){isNaN(a)||(--q[e].count,q[e].totalSize+=
a,0===q[e].count&&v.ue&&v.ue.count(e,q[e].totalSize))});k(g,f)}))}function f(a,e){var g=c.$(a);(g=0>=g.length?null:n(g[0]))&&h([g],e)}function a(a,e){e=e||a.length;var f=[];g(a.slice(0,e)).each(function(a,e){var g=n(e);if(!g)return[];f.push(g)});return f}var g=c.$,v=b,q=[];d.execute("inst-cf-img",function(){l("gw-inst-img");f(".gw-critical-content img","gw-cf-img-size")});d.when("x1").execute("inst-x1-img",function(){d.execute("inst-x1-rec-img",function(){var f=1;g("#gw-content-grid .feed-carousel .feed-carousel-shelf").slice(0,
2).each(function(e,c){if(2>=f){var b="gw-shoveler-img-size-"+f++,d=g(c).find("img");6<=d.length&&(d=a(d,6),h(d,b))}})});d.execute("inst-x1-unrec-img",function(){h(a(c.$("#desktop-unrec-col-1 img")),"gw-unrec-col-1-img-size");h(a(c.$("#desktop-unrec-col-2 img")),"gw-unrec-col-2-img-size");h(a(c.$("#desktop-unrec-col-3 img")),"gw-unrec-col-3-img-size");f("#desktop-unrec-sidekick #dotd-image img","gw-unrec-sidekick-img-size")})})});d.when("A").register("dombinder",function(c){function b(f,
a){var g=0;a=a.split(".");for(var c=a.length;g<c;g++)f=f&&f[a[g]];return f}function d(f){return k.map(k(f).data("bind").split(","),function(a){a=a.split(":");var g=k.trim(a[0]),c=k.trim(a[1]),b=h[g];if(b)return b.init&&b.init(f,c),function(a){b.update(f,c,a)}})}var k=c.$,h={text:{update:function(f,a,g){k(f).text(b(g,a)||"")}},html:{update:function(f,a,g){k(f).html(b(g,a)||"")}},href:{update:function(f,a,g){k(f).attr("href",b(g,a)||"")}},trimText:{update:function(f,a,g){f=k(f);g=f.text();if(g.length>
a){for(var c=a-4;0<=c&&0<"[.,-/#!$%^&*;:{}=-_`~()] ".indexOf(g[c]);)c--;f.text(g.substring(0,0<=c?c+1:a-3)+"...")}}},value:{update:function(f,a,g){k(f).val(b(g,a)||"")}},visible:{update:function(f,a,g){var c=!1;"!"===a.charAt(0)&&(c=!0,a=a.substring(1));a=!!b(g,a);c!==a?k(f).show():k(f).hide()}},css:{init:function(f,a){var g=k(f),c=g.data("dombcss")||[];c[a]="";g.data("dombcss",c)},update:function(f,a,g){f=k(f);var c=f.data("dombcss"),d=c[a];g=b(g,a);d!==g&&(c[a]=g,d&&f.removeClass(d),g&&f.addClass(g))}},
attr:{init:function(f,a){var g=k(f),c=g.data("dombattr")||[];c[a]={};g.data("dombattr",c)},update:function(f,a,g){var c=k(f);f=c.data("dombattr");var d=f[a];g=b(g,a);d!==g&&(f[a]=g,d&&k.each(d,function(a,e){c.removeAttr(a)}),g&&k.each(g,function(a,e){c.attr(a,e)}))}}};return{init:function(f){var a={$root:f,bindings:[]};f.find("[data-bind]").each(function(){k.each(d(this),function(g,f){a.bindings.push(f)})});return a},update:function(f,a){k.each(f.bindings,function(g,f){f(a)})}}});d.when("jQuery").register("gwAjax",
function(c){return function(d,l){function k(g,f,c){"object"===typeof b.ue&&"function"===typeof b.ue.count&&(h(l.errorCounter||"gwAjaxError"),l.id&&h("gwAjaxError:"+l.id));"function"===typeof b.ueLogError&&b.ueLogError({logLevel:"WARN",attribution:"gwAjax-"+(l.id||d),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:d,"params-data":l.params||l.data}):"")});"function"===typeof a&&a(g,f,c)}function h(a){"object"===typeof b.ue&&"function"===typeof b.ue.count&&b.ue.count(a,(b.ue.count(a)||
0)+1)}l=c.extend(!0,{},l);var f=l.success,a=l.error;l.success=function(a,c,b){a.error?k(a,c,b):"function"===typeof f&&f(a,c,b)};l.error=k;l.data=l.params?l.params:l.data;h("gwAjaxCall");l.ajaxCounter&&h(l.ajaxCounter);return c.ajax(d,l)}});d.when("jQuery","gw-hud-punt").execute("gw-hud-sidekick",function(c){c("#gw-hud-grid").css({display:"none"})});d.when("A","sg-jsutil","a-modal","gw-productdb","productdb-binding-helper","sg-media-builder","gw-sims","gw-popover-data").register("gw-popover",
function(c,d,l,k,h,f,a,g){function v(a,e){b.uet&&b.uet(a,e,{wb:1})}function q(a){if(b.ue&&"function"===typeof b.ue.count)return b.ue.count(a)||0}function t(a){b.ue&&"function"===typeof b.ue.count&&b.ue.count(a,(b.ue.count(a)||0)+1)}function e(a){return a.closest("*[data-sgproduct]").data("sgproduct")}function m(a){a=a.closest(".shogun-widget");return!a.length||a.hasClass("card-lite")?"/ah/ajax/product":"/gp/gw/ajax/pdb.html"}function x(a,e,g){p[a.asin]&&p[a.asin].isResolved()?E.resetSimData():(p[a.asin]=
u.Deferred(),a&&a.asin&&e&&g?E.fetch(a,e,p[a.asin],g):p[a.asin].reject())}var u=c.$,y={},p={};if(!u("html").hasClass("a-touch")){d=u('<span style="display: none" />').appendTo("body");var r=u("#gw-popover-wrapper"),B=new h(k,r),z=l.create(d,{name:"gw-asin-popover",width:"90%","max-width":900,height:590,popoverLabel:g.popoverLabel,closeButton:!1}),E=new a(B),C=u("#gw-quick-look-btn");u("#a-page").delegate("li[data-sgproduct]","mouseenter",function(a){a=u(a.currentTarget);a.closest("#rhf").length||
a.closest(".deals-shoveler").length||(a.append(C),a.find("[title]").removeAttr("title"),C.addClass("active"))});C.mouseenter(function(){var a=u(this),g=m(a),f=e(a),a=a.siblings().children("a").attr("href");x(f,a,g)});u(".bestsellers .listRow a").mouseenter(function(){var a=u(this),g=m(a),f=e(a),a=a.attr("href");x(f,a,g);!f||!f.asin||y[f.asin]&&y[f.asin].isResolved()||!(g=k.get(f.asin))||(y[f.asin]=u.Deferred(),y[f.asin].resolve(g))});var D={};u("#a-page").delegate(".fresh-shoveler li[data-sgproduct]",
"mouseenter mousemove",function(a){a=u(a.currentTarget);if(!a.closest("#rhf").length&&!a.closest(".deals-shoveler").length){var e=a.data("sgproduct").asin;if(!y[e]||!y[e].isResolved()){var g=[];a.add(a.prev("li[data-sgproduct]")).add(a.next("li[data-sgproduct]")).each(function(){var a=u(this).data("sgproduct");if(a&&a.asin){var e=k.get(a.asin),f=(e=!(!D[a.asin]&&e&&e.loading))&&1500<c.now()-D[a.asin];if(!e||f)g.push(a.asin),D[a.asin]=c.now()}});y[e]=u.Deferred();g.length?(k._ajax('{"asins": ["'+g.join('","')+
'"]}',{id:"quicklook-pdb"},{url:m(a)}).done(function(a){k._add(a);for(var f=0;f<g.length;f++)D[g[f]]=Infinity;y[e].resolve(a)}).fail(y[e].reject),t("freshHoverCount")):y[e].resolve()}}});u("#a-page").delegate("li[data-sgproduct]","mouseleave",function(a){u(a.currentTarget).closest("#rhf").length||u(a.currentTarget).closest(".deals-shoveler").length||C.removeClass("active")});var G="#a-popover-"+z.attrs("id")+" ";l=u.map([".a-popover-header { display: none; }",".a-popover-inner { padding: 0px !important; margin: 0px !important; overflow: hidden !important; height: 100% !important; }"],
function(a){return G+a}).join(" ");u("head").append("<style>"+l+"</style>");c.on("a:popover:hide:gw-asin-popover",function(a){b.history.state&&b.history.state.popup&&b.history.back();B.clear()});u(b).bind("popstate",function(){z.hide()});return{show:function(a,e){t("freshPopOverOn");v("bb","popoverLatency"+q("freshPopOverOn"));b.history&&b.history.pushState&&b.history.pushState({popup:1},"");B.setAsin(a,{beforeUpdate:function(g){if(g.loading)return t("freshPopOverLoading"),g;var c=(new f(g.images[0])).autoCrop().scaleXY(500,
400).build(),c={url:e,image:c,actionUrl:{action:"/gp/product/handle-buy-box/"+function(a){return a.substring(a.indexOf("/ref=")+1,a.length)}(e)}};g.reviews&&(c.reviews=u.extend({},g.reviews,{url:e+"#customerReviews"}));u.when(p[a],y[a]).done(function(e,g){E.showSims(a,e)});p[a].fail(E.setNoSimView);v("cf","popoverLatency"+q("freshPopOverOn"));return u.extend({},g,c)}});z.show()},hide:function(){z.hide()}}}});d.when("jQuery","sg-media-builder","gw-productdb").register("gw-sims",function(c,
n,l){return function(k){function h(a,e){b.uet&&b.uet(a,e,{wb:1})}function f(a){if(b.ue&&"function"===typeof b.ue.count)return b.ue.count(a)||0}function a(a){b.ue&&"function"===typeof b.ue.count&&b.ue.count(a,(b.ue.count(a)||0)+1)}function g(){if(!E){E=!0;G.hide();F.show();D.animate({height:"100%"},300);var a=0,e=0,g=0,d=parseInt(F.css("width"),10),p=F.find(".sims-img-link");p.each(function(f,b){a+=b.clientWidth;d<a?c(b).hide():(e=a,g+=1)});var r=d-e;0<r&&(r=Math.floor(20+r/g-1),20<r&&p.css({"padding-right":r/
2+"px","padding-left":r/2+"px"}));p="popoverLatency"+f("freshPopOverOn");h("be",p);b.uex&&b.uex("ld",p,{wb:1})}}function v(){0===--p&&g()}function q(g,f){var b=c("<a>"),d=c("<div>");b.attr("class","sims-img-link");d.addClass("sims-img-border");f&&b.addClass("selected");b.click(function(){a("freshPopOverSimsClick");F.find(".sims-img-link").removeClass("selected");c(this).addClass("selected");k.clear();k.setAsin(g.asin,{beforeUpdate:function(f){f=c.extend(!0,{},g);var b=g.url;if(f.loading)a("freshPopOverLoading");
else{var d=(new n(f.images[0])).autoCrop().scaleXY(500,400).build(),d={url:b,image:d,actionUrl:{action:"/gp/product/handle-buy-box/"+e(b)}};f.reviews&&(d.reviews=c.extend({},f.reviews,{url:b+"#customerReviews"}));f=c.extend({},f,d)}return f}})});return b.append(d)}function t(){c.each(r,function(a,g){g.url=g.url.replace(/ref=gw_pdb_pdt-[\d]+/,e(B)+"&gw_sims-"+a)})}function e(a){return 0<=a.indexOf("redirect.html?")?a.replace(/.*redirect.html|(token|location)=.*?&/g,""):0<=a.indexOf("/ref=")?a.substring(a.indexOf("/ref=")+
1,a.length):0<=a.indexOf("?")?a.substring(a.indexOf("?"),a.length):""}function m(){E=!1;t();var a=[];p=r.length>p?p:r.length;c(r).each(function(e,g){g.loading=!1;if(g.images[0].src){var f=(new n(g.images[0])).autoCrop().scaleXY(130,100).build().src,b=c("<img>");b.attr("src",f);b.attr("class","sims-img");b.load(v);f=c("<div>");f.attr("class","sims-img-container");var d=c("<div>");d.addClass("sims-img-overlay");c(f).append(d);f.append(b);b=q(g,0===e);b.append(f);a.push(b)}return e<p-1});p=a.length;
c(a).each(function(a,e){F.append(e)});setTimeout(g,z)}function x(){d.when("gw-popover").execute(function(a){a.hide()})}function u(){G.hide();D.addClass("hidden");C.bind("click",x)}function y(){F.empty();D.add(G).removeAttr("style");D.removeClass("hidden");C.unbind("click",x);G.show();F.hide();p=8;r=[]}var p,r,B,z=1E4,E=!1,C=c("#sims-section"),D=C.find(".sims-wrapper"),G=C.find(".sims-loading"),F=C.find(".sims-details");c("#gw-asin-popover");return{fetch:function(a,e,g,c){h("af","popoverLatency"+f("freshPopOverOn"));
y();B=e;a.url=B;r.push(a);e=l.get(a.asin);setTimeout(g.reject,z);e.sims?g.resolve(e.sims):l._ajax('{"asins": [], "entityId":"'+a.asin+'","datasetId": "purchase"}',{id:"quicklook-sims-pdb"},{url:c}).done(function(e){if(e&&e.p&&0<e.p.length){var f=a.asin,c=e.p;c&&(l.get(f).sims||l.addSims(f,c));return g.resolve(e.p)}return g.reject()}).fail(g.reject);return g},setNoSimView:u,showSims:function(e,g){var f=l.get(e);f.loading?a("freshPopOverSimLoadBeforePrimeAsin"):r=f.sims?c.merge([f],f.sims):c.merge([f],
g);4<r.length?m():(a("simsLessThanThreshold"),u())},resetSimData:y,setWaitPeriod:function(a){z=a}}}});d.when("A").execute(function(c){var n=c.$,l,k;if(!c.$("html").hasClass("a-touch"))if(b.cvox)b.ue&&b.ue.tag&&b.ue.tag("screenReaderOn");else{n("#a-page").delegate("*[data-sgproduct] #gw-quick-look-btn","click",function(f){n(f.target).closest("#rhf").length||n(f.target).closest(".deals-shoveler").length||h(f)});n("#a-page").delegate(".bestseller-list *[data-sgproduct]","click",function(f){h(f)});
d.when("gw-popover").execute(function(f){l=f;n("#gw-popover-close").click(function(){l.hide()});k&&l.show.apply(l,k)});var h=function(f){if(!(1<f.which||f.shiftKey||f.altKey||f.metaKey||f.ctrlKey)){var a,g;n(f.target).parents(".bestseller-list").length?(a=n(f.currentTarget).data("sgproduct"),g=n(f.target).closest("a").attr("href")):(a=n("#gw-quick-look-btn").closest("*[data-sgproduct]").data("sgproduct"),g=n("#gw-quick-look-btn").siblings().children("a").attr("href"));var c=[a.asin,g];a.asin&&g&&
(f.preventDefault(),l?l.show.apply(l,c):k=c)}}}});d.when("A","sg-jsutil","dombinder").register("productdb-binding-helper",function(c,b,d){return function(c,h){function f(a,g){d.update(e,v(g.beforeUpdate,a));a.loading||v(g.load,a)}function a(a){g();t=function(){a(q)};q.pdb_observe(t)}function g(){q&&t&&(q.pdb_unobserve(t),t=null)}var v=b.safeCall,q=null,t=null,e=d.init(h);this.setAsin=function(e,b){b=b||{};g();q=c.get(e);f(q,b);q.loading&&a(function(a){f(a,b)});return q};this.clear=function(){g();
q={};d.update(e,q)}}});b.P&&d.when("jQuery","afterLoad").register("gw-resource-logger",function(c){return{instrumentResources:function(d){var l;l=!1;if(c.isArray(d)&&!c.isEmptyObject(d)){l=!0;for(var k=0;k<d.length;k++){var h=d[k];if("id"in h&&"regex"in h&&"initiator"in h){if(!("string"===typeof h.id&&"string"===typeof h.initiator&&h.regex instanceof RegExp)){l=!1;break}}else{l=!1;break}}}k=b.performance&&"function"===typeof b.performance.getEntriesByType&&"undefined"!==typeof b.performance.getEntriesByType("resource")&&
"undefined"!==typeof b.ue;if(l&&k){l=Array(d.length);for(k=0;k<l.length;k++)l[k]=!1;for(h=k=0;h<b.performance.getEntriesByType("resource").length&&k<d.length;h++)for(var f=b.performance.getEntriesByType("resource")[h],a=f.name,g=f.initiatorType,v=0;v<d.length;v++)if(!l[v]){var q=d[v].regex;if(g===d[v].initiator&&q.test(a)){a=d[v].id;g=f;f=g.duration;b.ue.count&&(b.ue.count(a+":duration",f),b.ue.count(a+":startTime",g.startTime));b.ue.tag&&(g=void 0,g=50>f?a+":cached":a+":notCached",b.ue.tag(g));l[v]=
!0;k++;break}}}}}});d.register("sg-media-builder",function(){return function(c){var b=this,d=c.src,k=[];b.build=function(){var b=k.join("_");return{src:d.replace(/\.([^.]+)$/,"._"+b+"_.$1"),alt:c.alt}};b.autoCrop=function(){k.push("AC");return b};b.scaleX=function(c){k.push("SX"+c);return b};b.scaleY=function(c){k.push("SY"+c);return b};b.upScaleX=function(c){k.push("UX"+c);return b};b.upScaleY=function(c){k.push("UY"+c);return b};b.scaleXY=function(c,f){return b.upScaleX(c).scaleY(f)}}});
d.when("jQuery","gwAjax").register("shogunProductDB",function(c,d){function l(f){var a=[];h[f]={loading:!0,pdb_observe:function(g){a.push(g)},pdb_unobserve:function(g){a=c.grep(a,function(a){return a!==g})},_trigger:function(){c.each(a,function(){this.call(h[f])})}};return h[f]}function k(f,a){this.ajaxUrl=f;this.experienceStr=a;this._add=function(a){a.p&&c.each(a.p,function(a,g){if(g.asin){var f=h[g.asin]||l(g.asin);c.extend(f,g,{loading:!1,error:!1});f._trigger(g)}})};this.addSims=
function(a,f){if(f){var b=h[a]||l(a);c.extend(b,{sims:f});b._trigger(a)}};this._ajax=function(g,h,k){k=k||{};g=c.extend(!0,{},f,{params:{sa:g,oe:a}},k);b.ue_id&&(g.params.rrid=b.ue_id);return d(g.url,{method:g.method,params:g.params,success:h.success,error:h.error,id:"gw-jslibs-"+h.id})};this.get=function(a){return a in h?h[a]:l(a)}}var h={};return function(f,a){return new k(f,a)}});d.when("jQuery","p-detect").register("component-feed-carousel",function(c,n){var l=c.extend(!0,{},n);c.each({pointerPrefix:function(){return"onmspointerup"in
document||"onpointerup"in document?"onpointerup"in document?"pointer":"MSPointer":!1},actionMode:function(){var f=l.capabilities.pointerPrefix;return f?f:l.capabilities.touch?"touch":"mouse"}},function(f,a){l.capabilities[f]=a()});var k={};c.each({start:{mouse:"down",touch:"start",pointer:"down",MSPointer:"Down"},end:{mouse:"up",touch:"end",pointer:"up",MSPointer:"Up"}},function(f,a){var g=l.capabilities.actionMode,c="string"===typeof a?a:a[g];k[f]=c?g+c:a.mouse===m?"":"mouse"+a.mouse});l.action=
k;var h=function(f,a,g,c){this.init(f,a,g,c)};h.prototype={init:function(f,a,g,n){var h=this;c("html").hasClass("a-touch")&&f.addClass("feed-carousel-touch");h.config=n||{};h.adjustMarginOnChange=!1!==h.config.adjustMarginOnChange;h.defaultCssRightMargin=null;h.minItems=a||10;h.imgClass=".product-image";h.$carousel=f;h.cfMinItems=g||6;h.cfFired=!1;h.shovelerReadyFired=!1;h.slotId=h.getSlotId();h.touch=h.$carousel.hasClass("feed-carousel-touch");h.ajaxSource=h.$carousel.parent().hasClass("ajaxSource");
h.$shelf=h.$carousel.find(".feed-carousel-shelf");h.$viewport=h.$carousel.find(".feed-carousel-viewport");h.$spinner=h.$carousel.find(".spinner");h.$left=c(".feed-carousel-control.feed-left",f);h.$right=c(".feed-carousel-control.feed-right",f);h.$buttons=c(".feed-carousel-control",f);h.$thumb=c(".feed-scrollbar-thumb",f);h.shelfLeft=-1*parseInt(h.$shelf.css("left"),10);h.calcWidth=c("html").hasClass("a-lt-ie9");h.noOpacity=c("html").hasClass("a-lt-ie9");h.uniqueId=h.getUniqueId();h.$left.attr("aria-hidden",
!0);h.$right.attr("aria-hidden",!0);h.bindEvents();h.$carousel.data("Carousel",h);h.$carousel.trigger("change");h.token=!1;h.lock=function(){h.token=!0};h.unlock=function(){h.token=!1};h.locked=function(){return h.token};d.when("gw-first-carousel").execute(function(){h.first=h.$carousel.hasClass("first-carousel");h.shouldControlsOn()?h.showControls():h.hideControls()});h.uniqueId&&d.when(h.uniqueId).execute(function(a){h.appendCards(a.cards);if(a.cards&&h.slotId&&"object"===typeof b.ue&&"function"===
typeof b.ue.count){var e="gw-"+h.slotId.toString()+"-lazy-cards",g="gw-"+h.slotId.toString()+"-lazy";b.ue.count(e,(b.ue.count(e)||0)+a.cards.length);b.ue.count(g,(b.ue.count(g)||0)+1)}})},getUniqueId:function(){if(this.$viewport){var f=this.$viewport.closest(".shogun-widget");return 0<f.length?c(f[0]).attr("id"):null}},getSlotId:function(){var f=this.$carousel.closest(".gw-widget-instrument");return 0<f.length?c(f[0]).attr("id"):null},bindEvents:function(){function f(a){return l.capabilities.pointerPrefix&&
-1<c.inArray(a.originalEvent.pointerType,[2,"touch"])||"touch"===l.capabilities.actionMode}var a=this,g=c("body");a.$buttons.ready(function(g){a.shovelerReadyFired||(a.slotId&&(g=a.slotId.toString()+"-active",b.GWI&&b.GWI.recordLatency(g),b.GWI&&b.GWI.register(g)),a.shovelerReadyFired=!0)});a.$carousel.change(function(g){a.updateItems();a.updateSpinner();a.updateShelf();a.updateControls();null===a.defaultCssRightMargin&&a.$shelf.children("li").first()&&(g=parseInt(a.$shelf.children("li").first().css("margin-right"),
10),a.defaultCssRightMargin=isNaN(g)?10:g);a.adjustMarginOnChange&&a.adjustCardMargin()});a.$left.click(function(g){g.preventDefault();a.changePage(-1);a.slotId&&a.logCounter("gw-"+a.slotId.toString()+"-left")});a.$right.click(function(g){g.preventDefault();a.changePage(1);a.slotId&&a.logCounter("gw-"+a.slotId.toString()+"-right")});a.bindImageLoadEvents(a.$shelf);var d;c(b).resize(function(){clearTimeout(d);d=setTimeout(function(){var g=a.getDimensions(),g=Math.max(Math.min(g.shelfLeft,g.maxLeft),
0);a.moveShelf(g)},100)});a.$thumb.mousedown(function(f){var b=f.clientX;1===f.which&&(f.preventDefault(),a.$carousel.addClass("scrolling"),g.bind("mousemove.feed-carousel",function(e){var g=a.getDimensions(),g=Math.max(Math.min(g.shelfLeft+1/g.pageRatio*(e.clientX-b),g.maxLeft),0);b=e.clientX;a.moveShelf(g)}),c(document).bind("selectstart.feed-carousel",function(){return!1}))});g.add(b).mouseup(function(f){a.$carousel.removeClass("scrolling");a.$carousel.hasClass("hovering")||a.hideControls();g.unbind("mousemove.feed-carousel");
c(document).unbind("selectstart.feed-carousel")});a.$carousel.hover(function(){a.$carousel.addClass("hovering");clearTimeout(a.hoverTimer);a.hoverTimer=setTimeout(function(){a.$carousel.hasClass("hovering")&&!a.$carousel.hasClass("touching")?a.showControls():a.$carousel.removeClass("touching")},300)},function(){a.$carousel.removeClass("hovering touching");clearTimeout(a.hoverTimer);a.$carousel.hasClass("scrolling")||(a.hoverTimer=setTimeout(function(){a.$carousel.hasClass("hovering")||a.hideControls()},
600))});a.$carousel.bind(l.action.start,function(g){f(g)&&(a.$carousel.addClass("touching"),clearTimeout(a.touchTimer),a.touchTimer=setTimeout(function(){a.$carousel.removeClass("touching")},5E3))});a.$carousel.bind(l.action.end,function(g){f(g)&&(a.$carousel.removeClass("touching"),clearTimeout(a.touchTimer),clearTimeout(a.hoverTimer))});a.$viewport.scroll(function(){a.shelfLeft=a.$viewport.scrollLeft();a.updateControls()})},bindImageLoadEvents:function(f){var a=this;c(a.imgClass,f).one("load",function(){a.$carousel.trigger("change")})},
getDimensions:function(){var f=this.$shelf.width(),a=this.shelfLeft,g=this.$carousel.width();return{pageWidth:g,shelfWidth:f,shelfLeft:a,pageRatio:g/f,leftRatio:a/f,maxLeft:f-g}},updateItems:function(){var f=this,a=f.$shelf.find(".feed-carousel-card"),g=function(a){return"none"===a.css("display")};a.each(function(a,d){var h=c(d);if(!g(h)&&!f.config.visibleBeforeLoad)return!0;h.attr("aria-posinset",a+1);h.attr("aria-hidden",!1);h.attr("role","listitem");return 0>=h.find(f.imgClass).filter(function(){return!this.complete}).length?
(h.css("display","inline-block"),a+1>=f.cfMinItems&&!f.cfFired&&(f.slotId&&(h=f.slotId.toString()+"-visible",b.GWI&&b.GWI.recordLatency(h),b.GWI&&b.GWI.register(h)),f.cfFired=!0),!0):!1});a.attr("aria-setsize",a.size());f.$items=a.filter(function(){return!g(c(this))})},updateShelf:function(){var f=0;this.calcWidth&&(this.$shelf.children().each(function(){f+=c(this).outerWidth(!0)}),this.$shelf.width(f));this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},
updateSpinner:function(){this.size()<this.minItems&&this.ajaxSource?this.$spinner.show():(this.size()<this.minItems&&"object"===typeof b.ue&&"function"===typeof b.ue.count&&b.ue.count("shovelerNotEnoughItem",(b.ue.count("shovelerNotEnoughItem")||0)+1),this.$spinner.hide())},updateControls:function(){this.updateArrows();this.updateScrollThumb()},shouldControlsOn:function(){return this.first&&!this.touch},showControls:function(f){this.$thumb.add(this.$buttons).stop(!0,!0).fadeIn({duration:300,complete:f,
queue:!1})},hideControls:function(f){var a=this.$thumb;this.shouldControlsOn()||(a=a.add(this.$buttons));a.stop(!0,!0).fadeOut({duration:300,complete:f,queue:!1})},appendCards:function(f){this.$shelf.append(f);this.bindImageLoadEvents(f);this.$carousel.trigger("change")},updateArrows:function(){var f=this,a=f.getDimensions();c.each([{$e:f.$left,enabled:0<a.shelfLeft},{$e:f.$right,enabled:a.shelfLeft<a.maxLeft}],function(a,c){var b=c.$e;c.enabled?b.removeClass("feed-control-disabled"):b.addClass("feed-control-disabled");
f.noOpacity&&(c.enabled?b.css("opacity","1"):b.css("opacity","0.5"))})},updateScrollThumb:function(){var f=this.getDimensions(),a=f.leftRatio*f.pageWidth,f=Math.min(f.pageRatio*f.pageWidth,f.pageWidth);this.$thumb.width(f).each(function(){c(this).animate({left:a},0)})},logCounter:function(f){"object"===typeof b.ue&&"function"===typeof b.ue.count&&(b.ue.count(f,(b.ue.count(f)||0)+1),b.ue.count("gw-shoveler-click",1))},changePage:function(f){var a=this.getDimensions(),g=this.alignWithItem(a.shelfLeft+
f*a.pageWidth),g=Math.min(0>f?g.right:g.left,a.maxLeft);this.locked()||(this.lock(),a.shelfLeft===g?(this.bounce(this.$shelf,-30*f),this.bounce(this.$thumb,6*f)):this.moveShelf(g,400))},moveShelf:function(f,a){function g(){c.updateArrows();c.unlock()}var c=this;a=a||0;c.shelfLeft=f;if(c.touch)c.$viewport.animate({scrollLeft:f},a,"swing",g);else{var b=c.getDimensions(),b=f/b.shelfWidth*b.pageWidth;c.$shelf.animate({left:-f},a,"swing",g);c.$thumb.animate({left:b},a,"swing",function(){c.updateScrollThumb();
c.unlock()})}},getItems:function(){return this.$items},size:function(){return this.getItems().length},alignWithItem:function(f){if(0>f)return{left:0,right:0};var a=this,g=a.getItems(),b=g.map(function(){var g=a.cardPosition(c(this));if(f>=g.left&&f<=g.right)return g}).get(0);return b?b:a.cardPosition(g.last())},cardPosition:function(f){var a=(f.position()||{left:0,right:0}).left;f=a+f.outerWidth(!0);return{left:a,right:f}},bounce:function(f,a){function g(a){var g={};g[b.touch?"left":"marginLeft"]=
a;return g}var b=this;f.each(function(){var f=c(this);f.animate(g(a),400,"swing",function(){f.animate(g(0),100,"swing",b.unlock)})})},setCardMargin:function(f){this.$shelf.children("li").first()&&this.$shelf.children("li").first().css("margin-right")!==f+"px"&&(this.$shelf.children("li").css("margin-right",f+"px"),this.updateShelf())},adjustCardMargin:function(f){f=f===m||null===f?this.defaultCssRightMargin:f;this.setCardMargin(f);var a=this.getDimensions(),a=0>a.maxLeft?Math.ceil(-a.maxLeft/this.size()):
f;this.setCardMargin(a<f?f:a)}};return{createCarousel:function(f,a,g,b){c(f).each(function(f,d){var e=c(d);new h(e,a,g,b)})}}});d.when("jQuery","SafeP").execute("shoveler-lazy-non-visible-images",function(c,n){function l(f){"object"===typeof h.ue&&"function"===typeof h.ue.count&&h.ue.count(f,(h.ue.count(f)||0)+1)}function k(){h.GWData&&c.each(h.GWData,function(f,a){if(f&&a&&a.data&&!a.loaded){a.loaded=!0;l("gw-lazy-load-all");var g=[];c.each(a.data,function(a,f){c.each(c(f),function(a,
e){g.push(e)})});g&&0<g.length&&l("gw-lazy-load-non-empty");n&&n.register(f,function(){return{cards:g}})}})}var h=b;d.when("x1").execute(k);d.when("ready").execute(k);d.when("load").execute(k)});d.register("SafeP",function(){var c={};return{register:function(b,l){"string"===typeof b&&"function"===typeof l&&(c[b]||(c[b]=function(b,h){d.register(b,h);c[b]=function(){}}),c[b]&&c[b](b,l))}}});d.when("A").register("resizeable-inline-video",function(c){function n(f,a){"function"===
typeof h.uet&&a&&h.uet(f,a,{wb:1})}function l(f,a){"function"===typeof h.uex&&a&&h.uex(f,a,{wb:1})}var k=c.$,h=b;return function(f,a,g){function b(){E.removeClass("player-uncommenced viewport-loaded").addClass("viewport-loading player-loading");p.css("z-index",1).css("opacity",1);n("tc","airyInlineVideoLoadingMonitor");n("tc",g.loadingScope);n("bb","airyInlineVideoPlaybackMonitor");n("bb",g.playbackScope)}function q(a){a=a||{};return{play:a.play||C,stop:a.stop||C,resize:a.resize||C,airyReady:a.airyReady||
C}}function t(){return new q({airyReady:function(a){b();D=new m(a);D.play()},stop:function(){var a;a=C;y.removeClass("viewport-loading").addClass("viewport-loaded");p.css("z-index",-1).css("opacity",0);B.length&&r.hide();a()}})}function e(a){return new q({play:function(){D=new m(a);r.fadeOut(1E3,function(){r.css("display","block");r.css("visibility","hidden");b();D.play()})}})}function m(a){return new q({play:function(){z.removeClass("viewport-loading").addClass("viewport-loaded");E.removeClass("player-loading");
n("be","airyInlineVideoLoadingMonitor");n("be",g.loadingScope);l("ld","airyInlineVideoLoadingMonitor");l("ld",g.loadingScope);D=new x(a)}})}function x(a){return new q({stop:function(){D=new u(a);a.pause()}})}function u(a){return new q({})}var y=k(f),p=y.find(".airy-video-container"),r=y.find(".image-map-before"),B=y.find(".image-map-after"),z=y.find(".airy-video-viewport-in"),E=y.add(z),C=function(){},D;g=g||{};n("bb","airyInlineVideoLoadingMonitor");n("bb",g.loadingScope);D=new function(f){function b(e){function f(a){"object"===
typeof h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||0)+1)}a.bindings={loadedmetadata:function(a,e){D.airyReady(c);n("cf","airyInlineVideoLoadingMonitor");n("cf",g.loadingScope)},videounsupportederror:function(a,e){f("airyResizableInlineVideoUnsupportedError")},decodeerror:function(a,e){f("airyResizableInlineVideoDecodeError")},networkerror:function(a,e){f("airyResizableInlineVideoNetworkError")},undefinederror:function(a,e){f("airyResizableInlineVideoUndefinedError")},beganplaying:function(){D.play()},
ended:function(){n("af","airyInlineVideoPlaybackMonitor");n("af",g.playbackScope);D.stop()}};var c=e.embed(a);g.autoPlay&&c.play({isAsync:!0})}f=f||{};h.gwAiryAssetLoaded||(h.gwAiryAssetLoaded=f,f.js&&d.load.js(f.js),f.css&&d.load.css(f.css));E.addClass("player-uncommenced");g.whenReady?d.when("Airy","ready").execute(b):d.when("Airy").execute(b);return new q({airyReady:function(a){D=new e(a);D.play()},play:function(){D=new t}})}(g.airyAssetUrls);(function(){c.on("resize",function(){D.resize()})})()}});
d.when("A").register("gw-count-down",function(b){return function(d,l,k,h,f){function a(a){a=a||{};return{update:a.update||x.noop,count:a.count||x.noop,transition:a.transition||x.noop}}function g(e,g){return a({update:function(){m(e);b.trigger(g)}})}function v(){B=f.starts_in;return a({update:function(){b.trigger(G);m(z)},transition:function(){w=g(f.started,C);w.update()},count:function(){r=setInterval(function(){l=y-Date.now();t(l,f.starts_in_timer)},1E3)}})}function q(){B=f.ends_in;
return a({update:function(){m(z)},transition:function(){w=g(f.has_ended,E);w.update()},count:function(){r=setInterval(function(){k=p-Date.now();t(k,f.ends_in_timer)},1E3)}})}function t(a,g){var f,b,c;f=Math.floor(a/36E5);b=Math.floor(a/1E3/60%60);c=Math.floor(a/1E3%60);var d=z,p;p=B+" "+e(f)+e(b,!0,!0)+e(c,!1,!0);d.timerString=p;d=z;f=g?g.replace("_hours_",f).replace("_minutes_",b).replace("_seconds_",c):"";d.readoutString=f;m(z);0>=a&&(clearInterval(r),w.transition())}function e(a,e,g){var f="";
if(0<a||g)f=("0"+a).slice(-2);if(!g&&0<a||e)f+=":";return f}function m(a){a.readoutString?z=a:(z.readoutString=a,z.timerString=a);b.trigger(D,z)}l=parseInt(l,10);k=parseInt(k,10);h=JSON.parse(h);var x=b.$,u=Date.now(),y=u+l,p=u+k,r,B="",z={timerString:"",readoutString:""},E=d+"ended",C=d+"started",D=d+"updateTimer",G=d+"countingDown",F=d+"soldOut",w=function(){return a({update:function(){if(h&&h.dealState){var a=h.dealState.toUpperCase();w="AVAILABLE"===a&&86400<k/1E3?g(""):-1<a.indexOf("WAITLIST")?
g(f.on_waitlist):"SOLDOUT"===a?g(f.sold_out,F):0<l?v():0<k?q():g(f.has_ended,E)}w.update();w.count()}})}();w.update();b.on(d,function(){w.update()})}})});